(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{274:function(e,t,n){"use strict";var r=n(115),a=n(46),o=n(70),c=["lottery"],i={lottery:{getLotteryTypes:function(){return function(e){Object(o.f)().then(function(t){if(0!==t.error_code)return!1;e({type:"SET_LOTTERY_TYPES",payload:{lotteryTypes:t.result}})})}}}};function l(e){if(e){return function(t){var n={};return e.forEach(function(e){var r=s(e);if("String"===r&&c.indexOf(e)>-1&&(n[e]=t[e]),"Object"===r&&c.indexOf(e.reducer)>-1){var a=s(e.state);if("Undefined"!==a&&"Null"!==a||(n[e.reducer]=t[e.reducer]),"String"===a){var o={};o[e.state]=t[e.reducer][e.state],n[e.reducer]=o}if("Array"===a){var i={};e.state.forEach(function(n){i[n]=t[e.reducer][n]}),n[e.reducer]=i}}}),n}}return function(e){return e}}function u(e){if(e){return function(t){var n={};return e.forEach(function(e){var r=s(e);"String"===r&&i[e]&&(n["".concat(e,"_action")]=Object(a.b)(i[e],t)),"Object"===r&&i[e.reducer]&&(n["".concat(e.reducer,"_action")]=Object(a.b)(i[e.reducer],t))}),n}}return function(e){var t={};return c.forEach(function(n){t["".concat(n,"_action")]=Object(a.b)(i[n],e)}),t}}function s(e){return Object.prototype.toString.call(e).slice(8,-1)}t.a=function(e){var t=s(e);if("Undefined"===t||"Null"===t)return Object(r.b)(l(),u());var n=null;return n="String"===t?[e]:e,Object(r.b)(l(n),u(n))}},294:function(e,t,n){},378:function(e,t,n){"use strict";var r=n(0),a=n(2),o=n.n(a),c=n(9);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.a=function(e){return r.createElement(c.a,null,function(t){var n,a=t.getPrefixCls,c=e.prefixCls,s=e.type,d=void 0===s?"horizontal":s,y=e.orientation,p=void 0===y?"center":y,f=e.className,h=e.children,b=e.dashed,g=u(e,["prefixCls","type","orientation","className","children","dashed"]),v=a("divider",c),O=p.length>0?"-".concat(p):p,m=o()(f,v,"".concat(v,"-").concat(d),(l(n={},"".concat(v,"-with-text").concat(O),h),l(n,"".concat(v,"-dashed"),!!b),n));return r.createElement("div",i({className:m},g,{role:"separator"}),h&&r.createElement("span",{className:"".concat(v,"-inner-text")},h))})}},427:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n(21),o=n(23),c=n(22),i=n(71),l=n(24),u=n(0),s=n.n(u),d=(n(294),n(378)),y=n(139),p=n(70),f=n(274),h=n(291),b=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"renderLotteryTypes",value:function(){var e=this,t=this.props,n=t.lottery,r=t.selectedTypeId,a=t.changeSelectedTypeId;if(!n.lotteryTypes.length)return"";var o=n.lotteryTypes[0].lottery_id;return r||a(o),s.a.createElement(h.a.Group,{defaultValue:r||o,buttonStyle:"solid"},n.lotteryTypes.map(function(t){return s.a.createElement(h.a.Button,{onClick:e.handleButtonClick.bind(e,t),key:t.lottery_id,value:t.lottery_id},t.lottery_name)}))}},{key:"handleButtonClick",value:function(e){(0,this.props.changeSelectedTypeId)(e.lottery_id)}},{key:"componentDidMount",value:function(){this.props.lottery.lotteryTypes.length||this.props.lottery_action.getLotteryTypes()}},{key:"render",value:function(){return s.a.createElement("div",{className:"lottery-types__container"},s.a.createElement("div",{className:"lottery-types__buttons"},this.renderLotteryTypes()))}}]),t}(u.Component),g=Object(f.a)("lottery")(b),v=n(421),O=n(41),m=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={columns:[{title:"\u7f16\u53f7",dataIndex:"lottery_no",key:"lottery_no"},{title:"\u7ed3\u679c",dataIndex:"lottery_res",key:"lottery_res"},{title:"\u5f00\u5956\u65e5\u671f",dataIndex:"lottery_date",key:"lottery_date"},{title:"\u5151\u5956\u622a\u6b62\u65e5\u671f",dataIndex:"lottery_exdate",key:"lottery_exdate"},{title:"\u672c\u671f\u9500\u552e\u989d",dataIndex:"lottery_sale_amount",key:"lottery_sale_amount"},{title:"\u5956\u6c60\u6eda\u5b58",dataIndex:"lottery_pool_amount",key:"lottery_pool_amount"},{title:"\u64cd\u4f5c",dataIndex:"",key:"x",render:function(e,t){return s.a.createElement(O.b,{key:t.lottery_no,to:"/lottery/detail/".concat(t.lottery_id,"/").concat(t.lottery_no)},"\u67e5\u770b\u8be6\u60c5")}}]},n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.state.columns,t=this.props.dataSource;return s.a.createElement("div",{className:"lottery-history__table"},s.a.createElement(v.a,{pagination:!1,dataSource:t,columns:e}))}}]),t}(u.Component),_=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={selectedTypeId:null,histories:[],page:1,pageSize:10,total:85},n.changeSelectedTypeId=n.changeSelectedTypeId.bind(Object(i.a)(n)),n.pageChangeAction=n.pageChangeAction.bind(Object(i.a)(n)),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"changeSelectedTypeId",value:function(e){this.setState({selectedTypeId:e,page:1})}},{key:"pageChangeAction",value:function(e,t){this.setState({page:e})}},{key:"getHistories",value:function(){var e=this,t=this.state,n=t.selectedTypeId,r=t.pageSize,a=t.page;Object(p.d)({lottery_id:n,page_size:r,page:a}).then(function(t){var n=t.data;if(0!==n.error_code)return!1;e.setState({histories:n.result.lotteryResList,total:n.result.totalPage})})}},{key:"componentDidUpdate",value:function(e,t){t.selectedTypeId!==this.state.selectedTypeId&&this.getHistories(),t.page!==this.state.page&&this.getHistories()}},{key:"render",value:function(){var e=this.state,t=e.selectedTypeId,n=e.histories,r=e.page,a=e.pageSize,o=e.total;return s.a.createElement("div",{className:"page-container lottery-history-page"},s.a.createElement(g,{changeSelectedTypeId:this.changeSelectedTypeId,selectedTypeId:t}),s.a.createElement(d.a,null),s.a.createElement(m,{dataSource:n}),s.a.createElement(d.a,null),s.a.createElement(y.a,{total:o,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},pageSize:a,current:r,onChange:this.pageChangeAction}))}}]),t}(u.Component);t.default=_}}]);
//# sourceMappingURL=7.59c49d68.chunk.js.map