(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{415:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var n=a(412),r=a.n(n),i=a(414),c=a(20),s=a(21),o=a(24),u=a(22),l=a(71),m=a(23),g=a(0),p=a.n(g),h=a(425),d=a(423),f=a(138),y=a(248),v=a(11),b=(a(415),a(252)),E=a(416),k=a.n(E),j=a(103),O=a.n(j),w=b.a.Meta,M=function(e){var t=e.info,a=t.time,n=t.img,r=O()(a).format("YYYY-MM-DD HH:mm:ss");return p.a.createElement(b.a,{className:"beauty-images__item",cover:p.a.createElement(k.a,{alt:"example",src:n}),actions:[p.a.createElement(v.a,{type:"setting",key:"setting"})]},p.a.createElement(w,{title:r}))},S=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderItems",value:function(){var e=this.props.dataSource;return!!e.length&&e.map(function(e){return p.a.createElement(M,{key:e.id,info:e})})}},{key:"render",value:function(){return p.a.createElement("div",{className:"beauty-images__content"},this.renderItems())}}]),t}(g.Component),C=a(70),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={images:[],page:1,pageSize:10,hasMore:!0,loading:!1},a.handlePageAction=a.handlePageAction.bind(Object(l.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handlePageAction",value:function(e){this.setState(function(t){var a=t.page+("prev"===e?-1:1);return 0===a&&(a=1),{page:a}})}},{key:"getBeautyImages",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t,a,n,i=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,a=t.page,n=t.pageSize,this.setState({loading:!0}),Object(C.a)({page:a,count:n}).then(function(e){var t=e.data;if(200!==t.code)return!1;i.setState(function(e,a){return{hasMore:!!t.result.length,images:t.result.length?t.result:e.images,loading:!1}}),t.result.length?h.a.success("\u6210\u529f\u83b7\u53d6\u5230\u6700\u65b0\u7684\u7f8e\u56fe"):h.a.warning("\u62b1\u6b49\u5df2\u7ecf\u6ca1\u6709\u66f4\u591a\u7684\u7f8e\u56fe\u4e86")}).catch(function(e){h.a.error("\u4e0d\u597d\u610f\u601d\u51fa\u9519\u4e86"),i.setState({loading:!1})});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getBeautyImages(),console.log("componentDidMount")}},{key:"shouldComponentUpdate",value:function(e,t){return t.page!==this.state.page&&(this.getBeautyImages(),console.log("shouldComponentUpdate")),!0}},{key:"render",value:function(){var e=this,t=this.state,a=t.page,n=t.images,r=t.hasMore,i=t.loading;return p.a.createElement("div",{className:"page-container beauty-images-page"},p.a.createElement(d.a.Title,{level:3},"\u7f8e\u56fe\u63a8\u8350"),p.a.createElement(f.a,{spinning:i},p.a.createElement(S,{dataSource:n})),p.a.createElement(y.a.Group,{className:"beauty-images__pagination",size:100},p.a.createElement(y.a,{disabled:!(1!==a),onClick:function(){e.handlePageAction("prev")},type:"primary"},p.a.createElement(v.a,{type:"left"}),"\u4e0a\u4e00\u9875"),p.a.createElement(y.a,null,a),p.a.createElement(y.a,{disabled:!r,onClick:function(){e.handlePageAction("next")},type:"primary"},"\u4e0b\u4e00\u9875",p.a.createElement(v.a,{type:"right"}))))}}]),t}(g.Component);t.default=_}}]);
//# sourceMappingURL=9.93218493.chunk.js.map