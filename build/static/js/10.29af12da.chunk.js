(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{435:function(e,t,a){},453:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a.n(n),i=a(75),s=a(21),c=a(22),u=a(24),l=a(23),o=a(118),m=a(25),g=a(7),p=a(447),h=a(148),b=a(269),d=a(12),f=(a(435),a(0)),y=a.n(f),v=a(273),k=a(436),E=a.n(k),j=a(109),O=a.n(j),w=v.a.Meta,S=Object(f.memo)(function(e){var t=e.info,a=t.time,n=t.img,r=O()(a).format("YYYY-MM-DD HH:mm:ss");return y.a.createElement(v.a,{className:"beauty-images__item",cover:y.a.createElement(E.a,{alt:"example",src:n}),actions:[y.a.createElement(d.a,{type:"setting",key:"setting"})]},y.a.createElement(w,{title:r}))}),M=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderItems",value:function(){var e=this.props.dataSource;return!!e.length&&e.map(function(e){return g.b.createElement(S,{key:e.id,info:e})})}},{key:"render",value:function(){return g.b.createElement("div",{className:"beauty-images__content"},this.renderItems())}}]),t}(g.a),_=a(76),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={images:[],page:1,pageSize:10,hasMore:!0,loading:!1},a.handlePageAction=a.handlePageAction.bind(Object(o.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handlePageAction",value:function(e){this.setState(function(t){var a=t.page+("prev"===e?-1:1);return 0===a&&(a=1),{page:a}})}},{key:"getBeautyImages",value:function(){var e=Object(i.a)(r.a.mark(function e(t){var a,n,i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t||this.state,n=a.page,i=a.pageSize,this.setState({loading:!0}),e.prev=2,e.next=5,Object(_.a)({page:n,count:i});case 5:if(200===(s=e.sent).code){e.next=8;break}return e.abrupt("return",!1);case 8:this.setState(function(e,t){return{hasMore:!!s.result.length,images:s.result.length?s.result:e.images,loading:!1}}),s.result.length?this.msgHandler.success("\u6210\u529f\u83b7\u53d6\u5230\u6700\u65b0\u7684\u7f8e\u56fe"):this.msgHandler.warning("\u62b1\u6b49\u5df2\u7ecf\u6ca1\u6709\u66f4\u591a\u7684\u7f8e\u56fe\u4e86"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),this.msgHandler.error("\u4e0d\u597d\u610f\u601d\u51fa\u9519\u4e86"),this.setState({loading:!1});case 16:case"end":return e.stop()}},e,this,[[2,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getBeautyImages()}},{key:"shouldComponentUpdate",value:function(e,t){return t.page!==this.state.page&&this.getBeautyImages(t),this._shouldComponentUpdate()}},{key:"render",value:function(){var e=this,t=this.state,a=t.page,n=t.images,r=t.hasMore,i=t.loading;return g.b.createElement("div",{className:"page-container beauty-images-page"},g.b.createElement(p.a.Title,{level:3},"\u7f8e\u56fe\u63a8\u8350"),g.b.createElement(h.a,{spinning:i},g.b.createElement(M,{dataSource:n})),g.b.createElement(b.a.Group,{className:"beauty-images__pagination",size:100},g.b.createElement(b.a,{disabled:!(1!==a),onClick:function(){e.handlePageAction("prev")},type:"primary"},g.b.createElement(d.a,{type:"left"}),"\u4e0a\u4e00\u9875"),g.b.createElement(b.a,null,a),g.b.createElement(b.a,{disabled:!r,onClick:function(){e.handlePageAction("next")},type:"primary"},"\u4e0b\u4e00\u9875",g.b.createElement(d.a,{type:"right"}))))}}]),t}(g.a);t.default=x}}]);
//# sourceMappingURL=10.29af12da.chunk.js.map