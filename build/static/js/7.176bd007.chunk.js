(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{295:function(e,t,n){"use strict";var r=n(0),o=n(16);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},p={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,u(t).apply(this,arguments))).onKeyDown=function(e){e.keyCode===o.a.ENTER&&e.preventDefault()},e.onKeyUp=function(t){var n=t.keyCode,r=e.props.onClick;n===o.a.ENTER&&r&&r()},e.setRef=function(t){e.div=t},e}var n,a,f;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(a=[{key:"focus",value:function(){this.div&&this.div.focus()}},{key:"blur",value:function(){this.div&&this.div.blur()}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.noStyle,o=y(e,["style","noStyle"]);return r.createElement("div",c({role:"button",tabIndex:0,ref:this.setRef},o,{onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,style:c({},n?null:p,t)}))}}])&&i(n.prototype,a),f&&i(n,f),t}();t.a=f},296:function(e,t,n){"use strict";var r=n(123),o=n(66),a=n(51),c=n.n(a),i=n(75),l=n(76),u=n(121),s=["lottery"],y={lottery:{getLotteryTypes:function(){return function(){var e=Object(i.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.f)();case 2:if(0===(n=e.sent).error_code){e.next=5;break}return e.abrupt("return",!1);case 5:t({type:u.a,payload:{lotteryTypes:n.result}});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}};function p(e){if(e){return function(t){var n={};return e.forEach(function(e){var r=d(e);if("String"===r&&s.indexOf(e)>-1&&(n[e]=t.get(e).toJS()),"Object"===r&&s.indexOf(e.reducer)>-1){var o=d(e.state);if("Undefined"!==o&&"Null"!==o||(n[e.reducer]=t.get(e.reducer).toJS()),"String"===o){var a={};a[e.state]=t.get(e.reducer).toJS()[e.state],n[e.reducer]=a}if("Array"===o){var c={};e.state.forEach(function(n){c[n]=t.get(e.reducer).toJS()[n]}),n[e.reducer]=c}}}),n}}return function(e){return e}}function f(e){if(e){return function(t){var n={};return e.forEach(function(e){var r=d(e);"String"===r&&y[e]&&(n["".concat(e,"_action")]=Object(o.b)(y[e],t)),"Object"===r&&y[e.reducer]&&(n["".concat(e.reducer,"_action")]=Object(o.b)(y[e.reducer],t))}),n}}return function(e){var t={};return s.forEach(function(n){t["".concat(n,"_action")]=Object(o.b)(y[n],e)}),t}}function d(e){return Object.prototype.toString.call(e).slice(8,-1)}t.a=function(e){var t=d(e);if("Undefined"===t||"Null"===t)return Object(r.b)(p(),f());var n=null;return n="String"===t?[e]:e,Object(r.b)(p(n),f(n))}},317:function(e,t,n){},401:function(e,t,n){"use strict";var r=n(0),o=n(2),a=n.n(o),c=n(10);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};t.a=function(e){return r.createElement(c.a,null,function(t){var n,o=t.getPrefixCls,c=e.prefixCls,s=e.type,y=void 0===s?"horizontal":s,p=e.orientation,f=void 0===p?"center":p,d=e.className,b=e.children,h=e.dashed,v=u(e,["prefixCls","type","orientation","className","children","dashed"]),g=o("divider",c),O=f.length>0?"-".concat(f):f,m=a()(d,g,"".concat(g,"-").concat(y),(l(n={},"".concat(g,"-with-text").concat(O),b),l(n,"".concat(g,"-dashed"),!!h),n));return r.createElement("div",i({className:m},v,{role:"separator"}),b&&r.createElement("span",{className:"".concat(g,"-inner-text")},b))})}},452:function(e,t,n){"use strict";n.r(t);var r=n(51),o=n.n(r),a=n(75),c=n(21),i=n(22),l=n(24),u=n(23),s=n(118),y=n(25),p=n(7),f=(n(317),n(401)),d=n(149),b=n(76),h=n(296),v=n(314),g=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(i.a)(t,[{key:"renderLotteryTypes",value:function(){var e=this,t=this.props,n=t.lottery,r=t.selectedTypeId,o=t.changeSelectedTypeId;if(!n.lotteryTypes.length)return"";var a=n.lotteryTypes[0].lottery_id;return r||o(a),p.b.createElement(v.a.Group,{defaultValue:r||a,buttonStyle:"solid"},n.lotteryTypes.map(function(t){return p.b.createElement(v.a.Button,{onClick:e.handleButtonClick.bind(e,t),key:t.lottery_id,value:t.lottery_id},t.lottery_name)}))}},{key:"handleButtonClick",value:function(e){(0,this.props.changeSelectedTypeId)(e.lottery_id)}},{key:"componentDidMount",value:function(){this.props.lottery.lotteryTypes.length||this.props.lottery_action.getLotteryTypes()}},{key:"render",value:function(){return p.b.createElement("div",{className:"lottery-types__container"},p.b.createElement("div",{className:"lottery-types__buttons"},this.renderLotteryTypes()))}}]),t}(p.a),O=Object(h.a)([{reducer:"lottery",state:"lotteryTypes"}])(g),m=n(445),j=n(58),_=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={columns:[{title:"\u7f16\u53f7",dataIndex:"lottery_no",key:"lottery_no"},{title:"\u7ed3\u679c",dataIndex:"lottery_res",key:"lottery_res"},{title:"\u5f00\u5956\u65e5\u671f",dataIndex:"lottery_date",key:"lottery_date"},{title:"\u5151\u5956\u622a\u6b62\u65e5\u671f",dataIndex:"lottery_exdate",key:"lottery_exdate"},{title:"\u672c\u671f\u9500\u552e\u989d",dataIndex:"lottery_sale_amount",key:"lottery_sale_amount"},{title:"\u5956\u6c60\u6eda\u5b58",dataIndex:"lottery_pool_amount",key:"lottery_pool_amount"},{title:"\u64cd\u4f5c",dataIndex:"",key:"x",render:function(e,t){return p.b.createElement(j.b,{key:t.lottery_no,to:"/lottery/detail/".concat(t.lottery_id,"/").concat(t.lottery_no)},"\u67e5\u770b\u8be6\u60c5")}}]},n}return Object(y.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.columns,t=this.props.dataSource;return p.b.createElement("div",{className:"lottery-history__table"},p.b.createElement(m.a,{pagination:!1,dataSource:t,columns:e}))}}]),t}(p.a),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={selectedTypeId:null,histories:[],page:1,pageSize:10,total:85},n.changeSelectedTypeId=n.changeSelectedTypeId.bind(Object(s.a)(n)),n.pageChangeAction=n.pageChangeAction.bind(Object(s.a)(n)),n}return Object(y.a)(t,e),Object(i.a)(t,[{key:"changeSelectedTypeId",value:function(e){this.setState({selectedTypeId:e,page:1})}},{key:"pageChangeAction",value:function(e,t){this.setState({page:e})}},{key:"getHistories",value:function(){var e=Object(a.a)(o.a.mark(function e(){var t,n,r,a,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.selectedTypeId,r=t.pageSize,a=t.page,e.prev=1,e.next=4,Object(b.d)({lottery_id:n,page_size:r,page:a});case 4:if(0===(c=e.sent).error_code){e.next=7;break}return e.abrupt("return",!1);case 7:this.setState({histories:c.result.lotteryResList,total:c.result.totalPage}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){t.selectedTypeId!==this.state.selectedTypeId&&this.getHistories(),t.page!==this.state.page&&this.getHistories()}},{key:"render",value:function(){var e=this.state,t=e.selectedTypeId,n=e.histories,r=e.page,o=e.pageSize,a=e.total;return p.b.createElement("div",{className:"page-container lottery-history-page"},p.b.createElement(O,{changeSelectedTypeId:this.changeSelectedTypeId,selectedTypeId:t}),p.b.createElement(f.a,null),p.b.createElement(_,{dataSource:n}),p.b.createElement(f.a,null),p.b.createElement(d.a,{total:a,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},pageSize:o,current:r,onChange:this.pageChangeAction}))}}]),t}(p.a);t.default=S}}]);
//# sourceMappingURL=7.176bd007.chunk.js.map